#https://calomel.org/nginx.html
#For some interesting configuration options
#http://bretthoerner.com/blog/2008/oct/27/using-nginx-memcached-module-django/

server {
  listen       8000;
  server_name  doc.constellation.tv;
  
  root /var/www/html/sites/dev.constellation.tv/public/lib/vendor/PageWidgets/docs;
  index  index.html;
  
  access_log  /var/log/httpd/doc_access_log main;
  #access_log off;
  error_log  /var/log/httpd/doc_error_log;
  recursive_error_pages on; 
  
  charset utf-8;
  sendfile off;
	
	location ~ \.php($|/) {
     
    set  $script     $uri;
    set  $path_info  "";

    if ($uri ~ "^(.+\.php)(/.+)") {
      set  $script     $1;
      set  $path_info  $2;
    }

    fastcgi_pass   127.0.0.1:9000;

    include /etc/nginx/fastcgi_params;

    fastcgi_param  SCRIPT_FILENAME  /var/www/html/sites/dev.constellation.tv/public/lib/vendor/styroform/example$script;
    fastcgi_param  PATH_INFO        $path_info;
    
  }
  
  location / {
    gzip_static on;
 
		gzip_http_version   1.1;
		gzip_proxied        expired no-cache no-store private auth;
		gzip_disable        "MSIE [1-6]\.";
		gzip_vary           on;
		
  }

  
}
